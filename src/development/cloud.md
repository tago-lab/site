# クラウドサービスセンター

[東京工科大学クラウドサービスセンター](http://www.teu.ac.jp/cloud/index.html)は、内製ソフトウェアによるハイブリッドクラウドシステムです。全学学生8000名が、毎日使用しています。講義開始時に一斉にアクセスされるので、利用者数の割には大きな同時アクセス数となります。これを、学内に設置された、標準的なLinuxのPCクラスタ、ブレードサーバ、および、RAIDストレージによって処理しています。

トップは、シングルサイオン機構を備えたhttpdで、処理ごとに分けられたサーバのプロキシとして動作します。認証は、GoogleのOpenID機構を利用しています。したがって、Googleクラウドを利用している利用者は、毎回パスワードを入力しなくても認証が行われる。これは、特にスマートフォンからの利用の際、利便性を高めます。

提供中のサービスとして、  

* 学生ポータル
* Moodle
* 出席管理システム 
* ファイルサーバ
* 汎用アプリサーバ(gallery)

等があります。

大学の中核システムとネットワークで接続されており、統合された構成名簿を夜間バッチでダウンロードすることにより、利用者管理を行っています。また、出席管理システムによって取得された全教科の出席データも夜間バッチで毎日アップロードしています。また、教務システムから開講情報もダウンロードしています。これによって、教務システムとは別体系のシステムであるにもかかわらず、統合的に運用することを可能にしています。

DBMSは、RAIDとファイバチャネルで接続された複数のサーバで運用されるMySQLを使用しています。

Moodleもシングルサインオン機構下で運用しており、別途名簿を管理しなくても利用者管理が行えるようになっています。学期の開始時に、開設講義に対応したMoodleのコースが自動的に生成されるために、必要があればどの講義でも手軽にMoodleを利用することができるようになっています。

研究プロジェクトや研究室の運用において必要となる、wikiやWordPress等のアプリケーションは、Docker化することにより、任意の数、立ち上げることができるようにするKubernetesベースのアプリケーション実行環境が実装されており、種々の目的に広く利用されています。Web画面上から、実行したいアプリケーションを指定すると、Docker機構を利用して即座に運用が開始されます。また、プロキシ機構も自動的に設定され、任意のドメイン名を指定してサービスを公開できるようになっています。また、サービスの可視性は、外部公開、学内公開、指定者のみを選べるようになっているので、プロジェクト運用のための内部サイト等にも利用できます。このサービスをgarallyとよんでいます。

以上のソフトウェアは、すべて学生たちの手による内製です。本番システムの他に開発環境も運用し、コーディング、テスト、デプロイができるようにしています。基幹部分はJavaで作られており、カスタマイズのために、Java VM上で動作するJRubyが用いられています。Mavenで共有されるフレームワークの形式でメンテナンスされています。このようなプロセスは、ベンチャー企業等で業務として行われているものと基本的には同一で、学生のトレーニング環境として適しています。それだけでなく、実際にサービスを提供することを目指したサービスプランニング実習や、システム技術に関する研究成果の評価環境としても利用できるようになっています。これらは、ITエンジニアや研究者の作業環境としてきわめて有効なものです。